(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506,508],{8113:function(e,t,r){Promise.resolve().then(r.bind(r,3218))},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},3218:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var s=r(7437),n=r(2265),a=r(9376),o=r(2972),u=r.n(o);function i(e){let{role:t,redirectPath:r}=e,[o,i]=(0,n.useState)({login:"",password:""}),[l,c]=(0,n.useState)(""),d=(0,a.useRouter)(),h=async e=>{e.preventDefault(),c("");try{let e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,role:t})}),s=await e.json();e.ok?d.push(r):c(s.error||"Login failed")}catch(e){c("An unexpected error occurred")}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"admin"===t?"Admin Login":"User Login"}),l&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:l}),(0,s.jsx)("input",{type:"text",placeholder:"Login",value:o.login,onChange:e=>i({...o,login:e.target.value}),className:"block w-full p-2 border rounded text-black"}),(0,s.jsx)("input",{type:"password",placeholder:"Password",value:o.password,onChange:e=>i({...o,password:e.target.value}),className:"block w-full p-2 border rounded text-black"}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded",children:"Login"}),"user"===t&&(0,s.jsx)("div",{className:"text-center mt-4",children:(0,s.jsx)(u(),{href:"/register/user",className:"text-blue-500 hover:text-blue-600 font-medium",children:"Register"})})]})})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=8113)}),_N_E=e.O()}]);